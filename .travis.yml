language: python
python:
  - "3.6"

cache: pip

# required to tests UI
before_install:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - sleep 3

# dependencies
install:
  - "pip install --upgrade pip"
  - "pip install --upgrade -r requirements.txt"
  - "pip install --upgrade -r tests/requirements_test.txt"

# run tests
script:
  # get fixtures
  - python tests/fixturing.py
  # unit tests
  - coverage run -m unittest discover -s tests/

# coverage reporting
after_success:
- codecov
